---
title: 数据预处理
date: 2018-07-04 20:04:23
description: 本篇介绍项目所用的数据预处理过程

---

# 数据预处理说明

## 数据统计

用户分成两类(A：申请过贷款，B：没申请过贷款)

分别针对两类用户统计消费情况：

1. 日平均消费金额，
2. 周平均消费金额，
3. 月平均消费金额，
4. 用户分布情况(省/市)(按身份证/手机号归属地)

商户这边，根据美团交易的那个字段对商户进行标记。有几种标记方法：

1. 按商户类别标记(公司经营范围区分)，
2. 是否存在连锁，通过一些字段判定一些稍微细粒度的类别(如快餐，中餐，西餐，快捷酒店，酒店，打车等，可结合美团自身的标签？)。

此外，结合数据看能否再抽取一些特征。

有了这些商户特征后，可再对用户进行一次统计。

## 特征提取

要求输出csv格式，包括：

1. 用户信息：根据身份证区分出性别，年龄，省，市，手机归属地
2. 商户信息：商户类别，是否连锁，一些细粒度的标签
3. 用户消费信息：日平均金额，周平均金额，月平均金额，(按照商户分类情况再将金额细分到不同类别)

提取完后，以如下格式保存为csv格式

csv文件中每一行表示一个样本(用户)，格式如下：
`y index0:value0 index1:value1 index2:value2  index3:value3  …indexN:valueN`

其中，`y`表示是否申请过贷款，其后跟上该用户的若干特征。数据以稀疏矩阵的形式表示。每个特征之间用空格间隔，每个特征有一个`index`和其对应的`value`。`index`总数表示特征空间的总量，其中离散型的特征按其类别数量参与统计，连续型特征就按一位统计。比如，如果先统计省份，中国13个省，那么`index0`到`index12`分别表示这13个省份；然后统计城市，城市假设有`M`个，那么从`index13`到`index(13+M-1)`的范围内表示这`M`个城市，以此类推。然后，申请过贷款的用户，不论通过与否，`y`都为`1`；再随机从剩余用户中抽取等量用户，作为负样本。





